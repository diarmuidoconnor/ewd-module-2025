## Enterprise Web Development - Assignment 1.

__Objective:__ Design and develop a secure, serverless Web API for managing movie review postings. Host the API on AWS and use the CDK to automate its infrastructure provisioning.

__Completion date:__ 22/03/2026

__CA mark:__ 30%.

__Deliverables:__

+ A text file (serverless-assignment.txt) containing:
   + The URL of the GitHub repository. 
   + The URL of the YouTube video demonstrating the API.

Upload the text file using [this Moodle link][moodle].

Notes:
+ To avoid plagiarism, you must set your GitHub repository visibility to PRIVATE. Shortly after the completion deadline, we will request that it be set to public visibility to enable assessment.
+ The repo's README documents the work you have carried out and must be complete and accurate. We will provide a template. 
+ Your repo's Git log __must have__ a clear, understandable, and coherent history of the work on this assignment. The commit message must summarise the work performed (What task were you working on?) at each stage. __Failure to comply with this requirement will result in a minimal grade being awarded__.

### Detailed Specification.

#### App API.

The API (App API) should support the following endpoints:

+ GET /movies/{movieID}/reviews[?reviewer=reviewerID] - Get all the reviews for the specified movie. 
     + Allow an optional query string parameter that specifies a reviewer ID (email address), e.g. ?reviewer=joe@gmail.com. Only the movie review by that person should now be returned.
+ GET /reviews?movie=movieID&published=date - Get the review for a movie where the publication date matches the query string parameter, e.g. ?movie=1234&published=1995-05.
+ POST /movies/reviews - add a movie review. 
+ PUT /movies/{movieId}/reviews - Update the text of an existing review. 

#### Authentication. 
The app's infrastructure should include a separate web API for processing user authentication requests (the Auth API). It should allow users to self-register, log in, and log out. 

#### Authorisation.
Only authenticated users can perform POST and PUT requests, whereas GET requests are publicly accessible. The payload of a POST/PUT should not include the reviewer's ID, as this is embedded in the JWT token accompanying the request. Reviewers should only be allowed update (PUT) their own reviews. 

#### Data Model.
The application's domain data model is comprised of two entities, Movie and Reviewer, and one relationship, Review. Their attributes are as follows:
+ Movie:
   + movie ID - number.
   + title - string.
   + date - string. (release date)
   + overview - string.

+ Reviewer:
   + reviewer ID - string (email address)
   + name - string.

+ Review:
    + movie ID - number.
    + reviewer ID - string (email address)
    + date - string. (published date)
    + text - string.

#### DynamoDB table design.

The database will follow the Single-table design pattern. This means:
+ One table stores all the data (movies, reviewers and reviews).
+ A table item could represent an entity or a relationship between two entities. 

The table’s partition and sort keys contain entity IDs, and prefixes will be used to indicate the item type - entity or relationship - as follows: 

+ Movie - PK = m#movieID, SK = m#movieID
+ Reviewer - PK = r#rewiewerID, SK = r#reviewerID
+ Review - PK = m#movieID, SK = r#reviewerID

Note: 
1. Assume a reviewer only writes one review for a specific movie. 
1. Assume a movie never has more than one review published on the same date.
1. The App API client should only use entity IDs; it should not be aware of database key formats.

Sample table items are as follows:
+ A movie:
   + m#1234 | m#1234 | The Shawshank Redemption | 1995-03-01 | A banker convicted of uxoricide forms a friendship over a quarter century with a hardened convict …

+ A review:
   + m#1234 | r#jbloggs@here.com | 1995-04-20 |  Moving, brilliant, inspirational, hopeful and empowering are all words that describe "The Shawshank Redemption." With outstanding performances from its ensemble cast and ........

+ A reviewer:
   + r#jbloggs@here.com | r#jbloggs@here.com | Joe Bloggs 


### Grading Spectrum.

__Good (40-55%):__

+ Functionality: Support for all GET and POST endpoints - no authentication.

__Very Good (55-65%)__:

+ Security: User authentication and authorisation.
+ Authorisation: Restricted review updates.

__Excellent (65-80%)__:

+ Performance: DynamoDB LSI. 
+ Efficency - Lambda layers.

__Outstanding (80+)__:

+ Performance: API Gateway validators.

[demo]: https://completecoding.io/typescript-translation-api/
[moodle]: https://moodle.setu.ie/mod/assign/view.php?id=4719101
